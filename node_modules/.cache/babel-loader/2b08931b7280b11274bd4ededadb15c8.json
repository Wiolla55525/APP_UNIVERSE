{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport const useTemperature = city => {\n  _s();\n  const [weather, setWeather] = useState(null);\n  useEffect(() => {\n    if (!city) {\n      return;\n    }\n    const myAbortController = new AbortController();\n    (async () => {\n      try {\n        const currentWeatherFetch = await fetch(`v1/places/${city}/forecasts/long-term`, {\n          signal: myAbortController.signal\n        });\n        const json = await currentWeatherFetch.json();\n        const currentWeather = json.forecastTimestamps.filter(timeUtc => {\n          return timeUtc.forecastTimeUtc;\n        });\n        setWeather(currentWeather[0].airTemperature);\n      } catch (e) {\n        console.log(e);\n        if (!myAbortController.signal.aborted) {\n          return {\n            error: e.message\n          };\n        }\n      }\n    })();\n    return () => {\n      myAbortController.abort();\n    };\n  }, [city]);\n  return weather;\n};\n_s(useTemperature, \"zh6OemVMK1sGCMM7fACoVGDcjjs=\");\nexport const useCity = () => {\n  _s2();\n  const [city, setCity] = useState([]);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetch(`/v1/places`).then(response => {\n      if (!response.ok) {\n        throw new Error(`This is an error: The status is ${response.status}`);\n      }\n      console.log(response);\n      const respond = response.json();\n      return respond;\n    }).then(actualData => {\n      setData(actualData);\n    }).catch(err => {\n      setError(err.message);\n      setData(null);\n      if (error) {\n        return `There is a problem fetching the post data - ${error}`;\n      }\n    }).finally(() => {\n      setLoading(false);\n      if (loading) {\n        return 'A moment please...';\n      }\n    });\n  }, []);\n  return city;\n};\n_s2(useCity, \"dhYmYLaKC6VzhVafIDqP/J9ymbo=\");","map":{"version":3,"names":["useState","useEffect","useTemperature","city","weather","setWeather","myAbortController","AbortController","currentWeatherFetch","fetch","signal","json","currentWeather","forecastTimestamps","filter","timeUtc","forecastTimeUtc","airTemperature","e","console","log","aborted","error","message","abort","useCity","setCity","data","setData","loading","setLoading","setError","then","response","ok","Error","status","respond","actualData","catch","err","finally"],"sources":["C:/Users/CodeAcademy/Desktop/My Projects/cafe01-town-hall-new/studentai/violetaVinogrodska/app-universe/src/Hooks.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport const useTemperature = (city) => {\n  const [weather, setWeather] = useState(null);\n\n  useEffect(() => {\n    if (!city) {\n      return;\n    }\n    const myAbortController = new AbortController();\n\n    (async () => {\n      try {\n        const currentWeatherFetch = await fetch(`v1/places/${city}/forecasts/long-term`, {\n          signal: myAbortController.signal,\n        });\n        const json = await currentWeatherFetch.json();\n        const currentWeather = json.forecastTimestamps.filter((timeUtc) => {\n          return timeUtc.forecastTimeUtc;\n        });\n        setWeather(currentWeather[0].airTemperature);\n      } catch (e) {\n        console.log(e);\n        if (!myAbortController.signal.aborted) {\n          return { error: e.message };\n        }\n      }\n    })();\n    return () => {\n      myAbortController.abort();\n    };\n  }, [city]);\n\n  return weather;\n};\n\nexport const useCity = () => {\n  const [city, setCity] = useState([]);\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetch(`/v1/places`)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(`This is an error: The status is ${response.status}`);\n        }\n        console.log(response)\n        const respond = response.json()\n        return respond;\n      })\n      .then((actualData) => {\n        setData(actualData);\n      })\n      .catch((err) => {\n        setError(err.message);\n        setData(null);\n        if (error) {\n          return `There is a problem fetching the post data - ${error}`;\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n        if (loading) {\n          return 'A moment please...';\n        }\n      });\n  }, []);\n  return city;\n};\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,OAAO,MAAMC,cAAc,GAAIC,IAAI,IAAK;EAAA;EACtC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAI,CAACE,IAAI,EAAE;MACT;IACF;IACA,MAAMG,iBAAiB,GAAG,IAAIC,eAAe,EAAE;IAE/C,CAAC,YAAY;MACX,IAAI;QACF,MAAMC,mBAAmB,GAAG,MAAMC,KAAK,CAAE,aAAYN,IAAK,sBAAqB,EAAE;UAC/EO,MAAM,EAAEJ,iBAAiB,CAACI;QAC5B,CAAC,CAAC;QACF,MAAMC,IAAI,GAAG,MAAMH,mBAAmB,CAACG,IAAI,EAAE;QAC7C,MAAMC,cAAc,GAAGD,IAAI,CAACE,kBAAkB,CAACC,MAAM,CAAEC,OAAO,IAAK;UACjE,OAAOA,OAAO,CAACC,eAAe;QAChC,CAAC,CAAC;QACFX,UAAU,CAACO,cAAc,CAAC,CAAC,CAAC,CAACK,cAAc,CAAC;MAC9C,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;QACd,IAAI,CAACZ,iBAAiB,CAACI,MAAM,CAACW,OAAO,EAAE;UACrC,OAAO;YAAEC,KAAK,EAAEJ,CAAC,CAACK;UAAQ,CAAC;QAC7B;MACF;IACF,CAAC,GAAG;IACJ,OAAO,MAAM;MACXjB,iBAAiB,CAACkB,KAAK,EAAE;IAC3B,CAAC;EACH,CAAC,EAAE,CAACrB,IAAI,CAAC,CAAC;EAEV,OAAOC,OAAO;AAChB,CAAC;AAAC,GAhCWF,cAAc;AAkC3B,OAAO,MAAMuB,OAAO,GAAG,MAAM;EAAA;EAC3B,MAAM,CAACtB,IAAI,EAAEuB,OAAO,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC2B,IAAI,EAAEC,OAAO,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC6B,OAAO,EAAEC,UAAU,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACsB,KAAK,EAAES,QAAQ,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACdQ,KAAK,CAAE,YAAW,CAAC,CAChBuB,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAE,mCAAkCF,QAAQ,CAACG,MAAO,EAAC,CAAC;MACvE;MACAjB,OAAO,CAACC,GAAG,CAACa,QAAQ,CAAC;MACrB,MAAMI,OAAO,GAAGJ,QAAQ,CAACtB,IAAI,EAAE;MAC/B,OAAO0B,OAAO;IAChB,CAAC,CAAC,CACDL,IAAI,CAAEM,UAAU,IAAK;MACpBV,OAAO,CAACU,UAAU,CAAC;IACrB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdT,QAAQ,CAACS,GAAG,CAACjB,OAAO,CAAC;MACrBK,OAAO,CAAC,IAAI,CAAC;MACb,IAAIN,KAAK,EAAE;QACT,OAAQ,+CAA8CA,KAAM,EAAC;MAC/D;IACF,CAAC,CAAC,CACDmB,OAAO,CAAC,MAAM;MACbX,UAAU,CAAC,KAAK,CAAC;MACjB,IAAID,OAAO,EAAE;QACX,OAAO,oBAAoB;MAC7B;IACF,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,OAAO1B,IAAI;AACb,CAAC;AAAC,IAlCWsB,OAAO"},"metadata":{},"sourceType":"module"}